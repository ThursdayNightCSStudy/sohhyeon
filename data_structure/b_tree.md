# B 트리

B 트리는 컴퓨터 과학자들이 데이터베이스 시스템을 설계할때 사용하는 데이터구조로, 자체적인 균형 조정 기능을 갖춘 트리 유형이다. 그러나 앞서 소개한 이진 탐색 트리와 달리 B 트리에는 자식 노드 3개 이상을 갖는 부모 노드가 있다. 확장된 버전의 이진 트리라고 할 수 있다.

## 시간 복잡도

이진 탐색 트리는 최악의 경우 O(n)의 시간 복잡도를 갖는데, 이를 좀 더 효율적으로 만든 것이 O(logn)의 시간 복잡도를 갖는 AVL 트리이다.

하지만, 만약 2천만 개의 데이터가 있다면, AVL 트리로는 최대 24번 탐색하게 된다.

만약 하나의 노드가 가질 수 있는 노드의 개수를 확장시킬 수 있다면 탐색을 줄일 수 있을지에 대한 고민으로 등장한 것이 B 트리이다.

노드가 가질 수 있는 최대 자식 수를 M이라고 할때, M차 B-Tree라고 한다.

## 규칙

- 노드 안에 k개의 데이터가 있다면 자식 노드의 수는 k+1개여야 한다.
- 노드 안의 데이터는 정렬되어있어야 한다.
- 자식 노드의 데이터는 부모의 데이터에 따라 배치된다.
- 루트 노드가 리프 노드가 아닌 경우 항상 2개 이상의 자식을 갖는다.
- M차 B-tree라면 루프 노드와 리프 노드를 제외하고 최소 M/2개 이상의 데이터를 가지고 있어야 한다.
- 모든 리프 노드의 높이는 같아야 한다.
- 리프 노드의 데이터 수는 M-1 이하여야 한다.
